:root{
  --sidebar-width: 336px;
  --topbar-height: 64px;
  --topbar-height-mobile: 56px;

  --brand: #5E936C;
  --ink: #191f28;
  --muted: #6c757d;
  --line: #e9ecef;

  --search-bg: #f3f5f4;
  --search-border: #e6ebe7;
  --placeholder: #adb5bd;
}

/* ===== 데스크탑 ===== */
.topbar-container{
  position: fixed; top:0; left: var(--sidebar-width);
  width: calc(100% - var(--sidebar-width)); height: var(--topbar-height);
  background:#fff; border-bottom:1px solid var(--line);
  z-index:1000; display:flex; align-items:center; box-sizing: border-box;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
}
.topbar-content{
  width:100%; height:100%; padding:0 16px 0 20px;
  display:grid; grid-template-columns: 1fr auto; gap:16px; align-items:center;
}
.topbar-center{ display:flex; align-items:center; justify-content:center; }
.topbar-right{ display:flex; align-items:center; gap:12px; }

/* 공통 검색 바 */
.topbar-search{
  width:100%; display:flex; align-items:center; gap:12px;
  background:var(--search-bg); border:1px solid var(--search-border);
  border-radius:28px; padding:14px 20px; transition:all .18s ease; box-sizing: border-box;
}
.topbar-search--desktop{ 
  max-width:720px; 
  width:100%; 
  min-width:400px;
  height:48px;
}
.topbar-search:focus-within{ 
  background:#fff; 
  border-color:var(--brand); 
  box-shadow:0 0 0 3px rgba(94,147,108,.12); 
}
.topbar-search input{ 
  flex:1; 
  border:none; 
  outline:none; 
  background:transparent; 
  font-size:16px; 
  color:var(--ink);
  height:100%;
}
.topbar-search input::placeholder{ color:var(--placeholder); }

/* 검색 아이콘 기본(데스크탑) */
.topbar-search-icon{ width:20px; height:20px; color:var(--muted); }

/* 아이콘 버튼/배지 */
.topbar-icon-btn{
  position:relative; width:40px; height:40px; border:none; border-radius:50%;
  background:#f8f9fa; color:#495057; display:flex; align-items:center; justify-content:center;
  cursor:pointer; transition: background-color .18s ease, transform .06s ease;
}
.topbar-icon-btn:hover{ background:#eef1f1; }
.topbar-icon-btn:active{ transform: translateY(1px); }
.topbar-badge{
  position:absolute; top:-3px; right:-3px; min-width:18px; height:18px; padding:0 4px;
  background:#dc3545; color:#fff; border-radius:999px; font-size:11px; font-weight:700;
  display:flex; align-items:center; justify-content:center; border:2px solid #fff;
}

/* ===== 모바일 ===== */
@media (max-width: 820px){
  .topbar-container{ display:none; }

  /* iOS 안전영역 포함: 높이/패딩 동기화 */
  .topbar-mobile-container{
    position:fixed; top:0; left:0; z-index:1000;
    width:100%;
    height: calc(var(--topbar-height-mobile) + env(safe-area-inset-top, 0px));
    padding-top: env(safe-area-inset-top, 0px);
    background:#fff; border-bottom:1px solid var(--line);
    display:flex; align-items:center; box-sizing: border-box;
  }

  .topbar-mobile-content{
    width:100%; height: calc(var(--topbar-height-mobile));
    padding:0 10px;
    display:grid; align-items:center; gap:8px; box-sizing: border-box;
    grid-template-columns: 48px 1fr 96px; /* 왼쪽 / 가운데 / 오른쪽 */
  }

  .topbar-mobile-left{ justify-self:start; display:flex; align-items:center; }

  .topbar-mobile-logo-btn{
    width:44px; height:44px; border:none; background:transparent; padding:0;
    display:flex; align-items:center; justify-content:center; cursor:pointer;
    line-height: 0;
  }
  .topbar-mobile-logo{ height: 30px; width:auto; object-fit:contain; display:block; }

  /* 중앙 검색: 중앙 정렬 + 최대폭 제한(짧게) */
  .topbar-search--mobile{
    justify-self:center; max-width:52vw; width:100%;
    padding:8px 12px; border-radius:20px;
  }
  .topbar-search--mobile input{ font-size:13px; }

  /* ⬇ 모바일: 검색 아이콘을 20px로 강제(알림/QR과 시각 크기 통일) */
  .topbar-search--mobile .topbar-search-icon{
    width:20px !important;
    height:20px !important;
    flex:0 0 20px;
  }

  /* 오른쪽: 끝 정렬 + 최소폭 확보(아이콘 2개) */
  .topbar-mobile-right{
    justify-self:end; display:flex; align-items:center; justify-content:flex-end;
    gap:8px; min-width:96px;
  }
}

/* 검색 폼 스타일 추가 */
.topbar-search-form {
  width: 100%;
  display: flex;
  align-items: center;
}