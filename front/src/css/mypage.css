:root{
  --bg:#fff; --fg:#222;
  --primary:#5E936C; --accent:#93A98C; --orange:#F29B50; --danger:#B94E4E;
  --radius-xl:20px; --radius-lg:16px; --radius-md:12px;
  --card:#fff;
  --shadow-0:0 1px 2px rgba(0,0,0,.06);
  --shadow-1:0 6px 18px rgba(0,0,0,.06),0 2px 6px rgba(0,0,0,.04);
  --ring:0 0 0 3px rgba(94,147,108,.30);
  --topbar-height:64px; --topbar-height-mobile:56px;
}

.mypage-page{
  min-height:100vh;background:var(--bg);color:var(--fg);
  font-family:'Pretendard',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
}

/* 표시 제어(기본) */
.mobile-only{display:none;}
.desktop-only{display:block;}

/* ===== 프로필 요약(모바일 기본) ===== */
.profile-summary-card{
  position:relative;display:flex;justify-content:space-between;align-items:center;gap:16px;
  background:#F4F8F5;border-radius:var(--radius-xl);padding:18px;
  box-shadow:var(--shadow-0);border:1px solid rgba(94,147,108,.25);
  flex-wrap:wrap;margin:16px auto;max-width:1280px;
}
.profile-edit-mini{
  position:absolute;right:12px;top:12px;padding:6px 10px;border-radius:999px;
  border:1px solid rgba(0,0,0,.14);background:#fff;color:#111;font-size:12px;font-weight:800;cursor:pointer;
}
.profile-edit-mini:hover{background:#fafafa;border-color:rgba(0,0,0,.22);}
.profile-summary-left{display:flex;gap:14px;align-items:flex-start;min-width:0;flex:1 1 auto;}
.profile-avatar,.profile-avatar-image{width:64px;height:64px;border-radius:50%;flex-shrink:0;border:1px solid rgba(0,0,0,.08);}
.profile-avatar{background:var(--primary);color:#fff;display:grid;place-items:center;font-weight:900;}
.profile-avatar-image{object-fit:cover;background:#fff;}
.profile-meta{display:grid;gap:6px;min-width:0;flex:1;}
.profile-name{margin:0;font-size:20px;font-weight:900;}
.profile-email{margin:0;font-size:13px;color:rgba(0,0,0,.6);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* 인라인 평점 */
.mr-inline{display:grid;gap:6px;margin-top:2px;}
.mr-inline-title{font-size:12px;color:#666;font-weight:700;}
.profile-rating.compact{display:flex;align-items:center;gap:6px;line-height:1;white-space:nowrap;}
.rating-value{font-size:12.5px;font-weight:700;font-variant-numeric:tabular-nums;color:#6b7280;background:rgba(242,155,80,.12);padding:3px 6px;border-radius:8px;line-height:1;}
.rating-stars.overlay{--size:16px;--gap:-3px;position:relative;display:inline-block;line-height:1;font-size:var(--size);}
.rating-stars.overlay::before{content:"★★★★★";color:rgba(0,0,0,.28);letter-spacing:var(--gap);}
.rating-stars.overlay::after{content:"★★★★★";color:var(--orange);letter-spacing:var(--gap);position:absolute;left:0;top:0;height:100%;width:calc((var(--fill,0)/5)*100%);overflow:hidden;white-space:nowrap;}
.mr-meter{height:8px;border-radius:999px;background:#eef2f7;overflow:hidden;position:relative;}
.mr-meter.small{height:6px;}
.mr-fill{height:100%;background:linear-gradient(90deg,#6ee7b7,#22c55e);width:var(--pct,0%);}

/* 모바일 호스트 리뷰 요약 */
.mobile-host-summary{max-width:1280px;margin:0 auto 12px;background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:14px;box-shadow:var(--shadow-0);padding:14px;}
.mobile-host-summary h4{margin:0 0 6px;font-size:14px;font-weight:900;}
.mobile-host-summary p{margin:0;color:#374151;line-height:1.5;}

/* ===== 대시보드 ===== */
.yt-shell{padding:12px 16px 24px;}
.yt-layout{display:grid;grid-template-columns:1fr 320px;gap:24px;align-items:start;max-width:1280px;width:100%;margin:0 auto;}
.yt-main{min-width:0;}
.yt-rail{position:sticky;top:calc(var(--topbar-height) + 12px);align-self:start;}

.rail-edit{display:flex;justify-content:flex-end;margin-bottom:12px;}
.rail-edit-btn{padding:8px 12px;border-radius:999px;border:1px solid rgba(0,0,0,.14);background:#fff;font-weight:800;font-size:12.5px;cursor:pointer;}
.rail-edit-btn:hover{background:#fafafa;border-color:rgba(0,0,0,.22);}

.yt-section{margin-bottom:32px;}
.section-head{display:flex;align-items:center;justify-content:space-between;margin:22px 0 8px;padding-bottom:6px;border-bottom:1px solid rgba(0,0,0,.08);}
.section-title{margin:0;font-size:20px;font-weight:900;}
.more-btn{padding:6px 10px;font-size:12.5px;font-weight:800;border-radius:999px;border:1px solid rgba(0,0,0,.14);background:#fff;cursor:pointer;}
.more-btn:hover{background:#fafafa;border-color:rgba(0,0,0,.22);}
.section-head + .stack-wrap,.section-head + .card-grid{margin-top:14px;}

/* === 카드 기본(그대로 유지) === */
.yt-card{position:relative;z-index:1;width:100%;text-align:left;cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:12px;box-shadow:var(--shadow-0);transition:transform .18s,box-shadow .18s,border-color .18s,background-color .15s;overflow:hidden;}
.yt-card:hover{transform:translateY(-2px);border-color:rgba(0,0,0,.18);box-shadow:0 10px 28px rgba(0,0,0,.10);}

/* 썸네일 */
.yt-card .thumb{position:relative;width:100%;aspect-ratio:21/9;background:#F5F5F5;}
.yt-card .thumb.thumb-hasimg{background-position:center;background-size:cover;background-repeat:no-repeat;}
.thumb-fallback{position:absolute;inset:0;display:grid;place-items:center;color:#777;font-weight:700;font-size:12px}

/* 배지 */
.badge{position:absolute;left:8px;top:8px;background:rgba(34,34,34,.85);color:#fff;font-size:11px;padding:3px 6px;border-radius:999px;}
.badge-done{background:var(--primary);} .badge-closed{background:#cc4b4b;}
.badge-dday{background:#111;} .badge-live{background:#f97316;}

/* 카드 제목 */
.ec-title-row{display:flex;align-items:center;gap:8px;padding:10px 12px 6px;}
.ec-title-avatar{width:24px;height:24px;border-radius:50%;background:#eaeaea;background-size:cover;background-position:center;border:1px solid rgba(0,0,0,.08);}
.ec-title-avatar.ec-fallback{display:grid;place-items:center;background:#F4F4F4;color:#666;font-weight:900;font-size:12px;}
.ec-title-text{flex:1;font-size:16px;font-weight:800;line-height:1.2;color:#111;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* === 새: 라인형 메타 (칩/박스 제거) === */
.ec-meta{padding:4px 12px 12px;}
.ec-kv{
  display:grid; grid-template-columns: 48px 1fr;
  align-items: baseline; padding:2.5px 0;
}
.ec-k{font-size:12px;color:#000000;font-weight:800; text-align: center;}
.ec-v{font-size:13px;color:#4b4b4b;font-weight:600;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* 스켈레톤 라인 공용 */
.skeleton-line{
  height:12px; border-radius:6px;
  background:linear-gradient(90deg,#eee,#f5f5f5,#eee);
  animation:s 1.2s infinite linear;
}
.skeleton-line.sm{height:10px;}
.yt-card.skeleton{pointer-events:none;}
.yt-card.skeleton .thumb{background:linear-gradient(90deg,#eee,#f5f5f5,#eee);animation:s 1.2s infinite linear;}
.yt-card.skeleton .ec-title-text{background:linear-gradient(90deg,#eee,#f5f5f5,#eee);animation:s 1.2s infinite linear;border-radius:8px;height:12px;}
@keyframes s{0%{background-position:-200px 0}100%{background-position:200px 0}}

/* 데스크탑 우측 레일 카드 */
.rail-card{background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:12px;box-shadow:var(--shadow-0);padding:14px;margin-bottom:14px;}
.rail-title{margin:0 0 10px;font-size:14px;font-weight:900;}
.kpi-list{display:grid;gap:8px;}
.kpi-row{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:10px 12px;border:1px solid rgba(0,0,0,.12);border-radius:10px;background:#fff;transition:background-color .15s,border-color .18s,transform .18s,box-shadow .18s;}
.kpi-row:hover{background:#fafafa;border-color:rgba(0,0,0,.18);transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.06);}
.kpi-icon{font-size:18px;}
.kpi-label{font-size:13px;font-weight:700;}
.kpi-count{font-size:12.5px;font-weight:900;color:#374151;background:#F2F3F5;padding:3px 8px;border-radius:999px;}
.rail-summary{font-size:13px;color:#374151;line-height:1.5;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:hidden;}

/* 모바일 로그아웃 */
.logout-section{width:100%;max-width:1280px;margin:12px auto 16px;padding:0 16px;}
.logout-button{width:100%;height:44px;border-radius:12px;border:1px solid var(--primary);background:#fff;color:var(--primary);font-weight:900;cursor:pointer;transition:background-color .18s ease,transform .12s ease,box-shadow .18s ease;}
.logout-button:hover{background:rgba(94,147,108,.08);transform:translateY(-0.5px);box-shadow:0 4px 14px rgba(0,0,0,.07);}

/* 빈 상태 */
.empty-block{padding:18px;border:1px dashed rgba(0,0,0,.18);border-radius:12px;text-align:center;color:#6b7280;background:#fff;margin:8px 0;}

/* ====================================================
   Playlist 스타일 스택(튜너블) – 반쪽/모바일에서 사용
   ==================================================== */
.stack-wrap{
  position:relative;
  --stack-gap: 12px; --stack-inset: 10px; --stack-visible: 46%; --stack-radius: 12px; --stack-tilt: 0deg;
  padding-top: calc(var(--stack-gap) + 2px);
  padding-bottom: 0;
}
.stack-wrap.has-more::before,
.stack-wrap.has-more::after{
  content:""; position:absolute; left:var(--stack-inset); right:var(--stack-inset); top:0;
  height: var(--stack-visible);
  background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:var(--stack-radius);
  box-shadow: var(--shadow-0); pointer-events:none; z-index:0;
}
.stack-wrap.has-more::before{ transform: translateY(calc(var(--stack-gap) * -1)) rotate(var(--stack-tilt)); opacity:.96; }
.stack-wrap.has-more::after{ transform: translateY(calc(var(--stack-gap) * -2.2)) rotate(calc(var(--stack-tilt) * -1)); opacity:.9; }

/* ====================================================
   최종 오버라이드: 3단 브레이크포인트
   ==================================================== */
.profile-summary-card { display: none !important; }

/* 데스크탑 */
@media (min-width:1281px){
  .yt-layout{ grid-template-columns: 1fr 320px !important; }
  .yt-rail{ display:block !important; }
  .mypage-page .card-grid,
  .mypage-page .cards-grid,
  .mypage-page .event-grid,
  .mypage-page .section-grid,
  .mypage-page .event-card-row,
  .mypage-page .mp-card-row{
    display:grid !important;
    grid-template-columns: repeat(2, minmax(0,1fr)) !important;
    gap:18px !important; align-items:start;
  }
  .stack-wrap{ display:none !important; }
  .mobile-only{ display:none !important; }
  .desktop-only{ display:block !important; }
}

/* 반틈 */
@media (min-width:768px) and (max-width:1280px){
  .yt-layout{ grid-template-columns: 1fr !important; }
  .yt-rail, .rail-card{ display:none !important; }
  .mypage-page .card-grid,
  .mypage-page .cards-grid,
  .mypage-page .event-grid,
  .mypage-page .section-grid,
  .mypage-page .event-card-row,
  .mypage-page .mp-card-row{ display:none !important; }
  .stack-wrap{ display:block !important; }
  .profile-summary-card{ display:none !important; }
  .mobile-only{ display:none !important; }
  .desktop-only{ display:block !important; }
}

/* 모바일 */
@media (max-width:767px){
  .yt-layout{ grid-template-columns: 1fr !important; }
  .yt-rail, .rail-card{ display:none !important; }
  .mypage-page .card-grid,
  .mypage-page .cards-grid,
  .mypage-page .event-grid,
  .mypage-page .section-grid,
  .mypage-page .event-card-row,
  .mypage-page .mp-card-row{ display:none !important; }
  .stack-wrap{ display:block !important; }
  .profile-summary-card{ display:flex !important; }
  .mobile-only{ display:block !important; }
  .desktop-only{ display:none !important; }
}

/* 스택 힌트/반틈-모바일 커스텀 */
@media (max-width:1280px){
  .stack-wrap{
    --stack-visible: 20%;
    --stack-gap: 2px;
    --stack-bg: #e8e8e8;
    --stack-border: rgba(0,0,0,.10);
  }
  .stack-wrap.has-more::before{
    background: var(--stack-bg) !important;
    border: 1px solid var(--stack-border) !important;
  }
  .stack-wrap.has-more::after{
    background: var(--stack-bg) !important;
    border: 1px solid var(--stack-border) !important;
    opacity:.9;
  }
}

/* === KPI: 사이드바 톤&매너 === */
.kpi-card .kpi-list { display: grid; gap: 8px; }
.kpi-card .kpi-row{
  display: grid; grid-template-columns: auto 1fr auto;
  align-items: center; gap: 12px; padding: 10px 12px;
  border-radius: 12px; border: 1px solid rgba(0,0,0,.12); background: #fff;
  transition: background-color .15s, border-color .18s, transform .18s, box-shadow .18s;
}
.kpi-card .kpi-row:hover{ background: rgba(94,147,108,.04); border-color: rgba(0,0,0,.18); transform: translateY(-1px); box-shadow: var(--shadow-1); }
.kpi-lucide{ width: 28px; height: 28px; border-radius: 999px; display: grid; place-items: center; background: rgba(94,147,108,.12); color: var(--primary); border: 1px solid rgba(94,147,108,.18); }
.kpi-row.bookmarks .kpi-lucide{ background: rgba(242,155,80,.12); border-color: rgba(242,155,80,.25); color: var(--orange); }
.kpi-row.subscribes .kpi-lucide{ background: rgba(147,169,140,.16); border-color: rgba(147,169,140,.28); color: var(--accent); }
.kpi-row.joined .kpi-lucide{ background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.24); color: #22c55e; }
.kpi-row.uploads .kpi-lucide{ background: rgba(94,147,108,.12); border-color: rgba(94,147,108,.24); color: var(--primary); }
.kpi-label{ font-size: 13px; font-weight: 800; color: #111; }
.kpi-count{ font-size: 12.5px; font-weight: 900; color: #374151; font-variant-numeric: tabular-nums; background: #F2F3F5; padding: 4px 10px; border-radius: 999px; }

/* === Rail: 내 별점 카드 === */
.rail-rating-card .rating-head{ display:flex; align-items:center; gap:10px; margin-bottom:8px; }
.rail-rating-card .rating-stars.overlay{ --size:18px; --gap:-3px; }
.rail-rating-card .rating-value{
  font-size:13px; font-weight:800; color:#6b7280;
  background: rgba(242,155,80,.12); padding:4px 8px; border-radius:8px;
}
.rail-rating-card .mr-meter.small{
  height:6px; border-radius:999px; background:#eef2f7; overflow:hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
}
.rail-rating-card .mr-fill{ height:100%; background: linear-gradient(90deg, #fde68a, var(--orange)); width: var(--pct, 0%); transition: width .25s ease; }

/* === Tablet (768–1280px): 사이드바 보이면서 카드 1열, 스택 숨김 === */
@media (min-width:768px) and (max-width:1280px){
  /* 메인만 한 칸(우측 레일은 공간 아끼려고 숨김 유지) */
  .yt-layout{ grid-template-columns: 1fr !important; }
  .yt-rail, .rail-card{ display:none !important; }

  /* 카드 그리드 다시 보이게 + 1열로 */
  .mypage-page .card-grid,
  .mypage-page .cards-grid,
  .mypage-page .event-grid,
  .mypage-page .section-grid,
  .mypage-page .event-card-row,
  .mypage-page .mp-card-row{
    display:grid !important;
    grid-template-columns: 1fr !important;  /* ← 1열 */
    gap:14px !important;
    align-items:start;
  }

  /* 스택형은 숨김 (충돌 방지) */
  .stack-wrap{ display:none !important; }
}
